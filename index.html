<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VOX GENESIS | v116</title>
    <style>
        :root { --neon: #00f2ff; --accent: #7000ff; --bg: #050505; --glass: rgba(255, 255, 255, 0.05); --border: rgba(0, 242, 255, 0.3); }
        * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: var(--bg); color: #fff; font-family: 'Segoe UI', sans-serif; overflow: hidden; }
        #matrix-bg { position: fixed; inset: 0; z-index: 0; opacity: 0.15; pointer-events: none; }
        
        #status-bar { position: fixed; top: 0; width: 100%; padding: 15px 25px; z-index: 1000; background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); display: flex; justify-content: space-between; border-bottom: 1px solid var(--border); align-items: center;}
        #ai-btn { background: linear-gradient(45deg, var(--neon), var(--accent)); border: none; color: #fff; padding: 8px 15px; border-radius: 20px; cursor: pointer; font-weight: bold; font-size: 12px; }
        #ai-btn.active { box-shadow: 0 0 20px var(--neon); }

        #desktop { position: relative; z-index: 10; display: none; padding: 80px 20px; height: 100%; overflow-y: auto; }
        .main-hub { background: var(--glass); border: 1px solid var(--border); border-radius: 20px; padding: 20px; margin-bottom: 25px; backdrop-filter: blur(15px); }
        
        input { width: 100%; padding: 14px; background: rgba(0,0,0,0.7); border: 1px solid var(--border); color: var(--neon); border-radius: 12px; margin-bottom: 10px; text-align: center; }
        .btn { width: 100%; padding: 14px; background: var(--glass); color: var(--neon); border: 1px solid var(--neon); font-weight: bold; border-radius: 12px; cursor: pointer; transition: 0.3s; margin-bottom: 5px; }
        .btn:active { background: var(--neon); color: #000; }

        #apps-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 15px; }
        .icon { display: flex; flex-direction: column; align-items: center; cursor: pointer; }
        .icon span { font-size: 35px; margin-bottom: 5px; filter: drop-shadow(0 0 8px var(--neon)); }
        .icon label { font-size: 10px; color: rgba(255,255,255,0.8); font-weight: bold; text-align: center; }

        .window { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(5, 5, 10, 0.95); border: 1px solid var(--neon); display: none; flex-direction: column; z-index: 2000; width: 85%; max-width: 380px; border-radius: 15px; box-shadow: 0 0 40px rgba(0, 242, 255, 0.2); }
        .win-header { background: linear-gradient(90deg, var(--neon), var(--accent)); color: #000; padding: 12px; display: flex; justify-content: space-between; font-weight: bold; font-size: 13px; }
        .win-content { padding: 15px; }

        #lock { position: fixed; inset: 0; z-index: 9999; background: #000; display: flex; align-items: center; justify-content: center; }
    </style>
</head>
<body>

<canvas id="matrix-bg"></canvas>

<div id="status-bar">
    <div style="color:var(--neon); font-weight:bold; font-size: 14px;">VOX GENESIS</div>
    <button id="ai-btn" onclick="globalVox()">üé§ GENESIS</button>
    <div id="clock" style="font-size: 12px;">00:00</div>
</div>

<div id="lock">
    <div style="text-align:center; width: 80%;">
        <div style="font-size: 40px; margin-bottom: 10px;">üõ°Ô∏è</div>
        <h2 style="color:var(--neon); letter-spacing:5px;">SECURE LOG</h2>
        <input type="password" id="pin" placeholder="KEY CODE">
        <button class="btn" onclick="auth()">OPEN SYSTEM</button>
    </div>
</div>

<div id="desktop">
    <div class="main-hub">
        <input id="global-search" placeholder="Search or Voice Command...">
        <button class="btn" onclick="handleSearch()">üåê GLOBAL SEARCH</button>
    </div>
    <div id="apps-grid">
        <div class="icon" onclick="window.open('https://google.com')"><span>üîç</span><label>Google</label></div>
        <div class="icon" onclick="showW('w-store-manual')"><span>üè™</span><label>Market</label></div>
        <div class="icon" onclick="showW('w-play')"><span>üéµ</span><label>Player</label></div>
        <div class="icon" onclick="showW('w-met')"><span>üì°</span><label>Meet AI</label></div>
        <div class="icon" onclick="showW('w-org')"><span>üíæ</span><label>Notes</label></div>
        <div id="custom-apps" style="display: contents;"></div>
        <div id="adm-ico" class="icon" style="display:none" onclick="showW('w-adm')"><span>‚ò£Ô∏è</span><label style="color:red">ROOT</label></div>
        <div class="icon" onclick="location.reload()"><span>üîí</span><label>Exit</label></div>
    </div>
</div>

<div id="w-adm" class="window" style="border-color: red;"><div class="win-header" style="background: red;"><span>GENESIS KERNEL</span><span onclick="hideW('w-adm')">√ó</span></div><div class="win-content">
    <div style="font-size: 10px; color: red; background: #000; padding: 10px; height: 80px; overflow: auto; border: 1px solid red; margin-bottom: 10px;">
        > Root authorized.<br>
        > System encryption: Active.<br>
        > Waiting for kernel command...
    </div>
    <button class="btn" style="border-color:red; color:red;" onclick="alert('NEW KEY: '+Math.floor(1000+Math.random()*9000))">GENERATE SYSTEM KEY</button>
    <button class="btn" style="border-color:red; color:red;" onclick="wipeSystem()">PURGE ALL DATA</button>
</div></div>

<div id="w-met" class="window"><div class="win-header"><span>MEET AI</span><span onclick="hideW('w-met')">√ó</span></div><div class="win-content">
    <input id="me-in" placeholder="Room Name">
    <button class="btn" onclick="document.getElementById('me-in').value='VOX-'+Math.random().toString(36).substring(7).toUpperCase()">GENERATE ROOM ID</button>
    <button class="btn" onclick="if(document.getElementById('me-in').value) window.open('https://meet.jit.si/'+document.getElementById('me-in').value)">JOIN MEET</button>
</div></div>

<div id="w-store-manual" class="window"><div class="win-header"><span>MARKET</span><span onclick="hideW('w-store-manual')">√ó</span></div><div class="win-content">
    <input id="manual-app-input" placeholder="App Name">
    <button class="btn" onclick="let n = document.getElementById('manual-app-input').value; if(n) askToInstall(n); hideW('w-store-manual');">FIND</button>
</div></div>

<div id="w-choice" class="window"><div class="win-header"><span>INSTALLER</span><span onclick="hideW('w-choice')">√ó</span></div><div class="win-content">
    <p id="choice-text" style="color:var(--neon); font-size: 14px;"></p>
    <button class="btn" onclick="installConfirmed('store')">OPEN IN STORE</button>
    <button class="btn" onclick="installConfirmed('local')">ADD TO DESKTOP</button>
</div></div>

<div id="w-play" class="window"><div class="win-header"><span>PLAYER</span><span onclick="hideW('w-play')">√ó</span></div><div class="win-content">
    <input id="media-url" placeholder="YouTube/File URL">
    <button class="btn" onclick="playMedia()">PLAY</button>
    <iframe id="v-frame" style="width:100%; height:0; border:none;"></iframe>
</div></div>

<div id="w-org" class="window"><div class="win-header"><span>SECURE NOTES</span><span onclick="hideW('w-org')">√ó</span></div><div class="win-content">
    <textarea id="note-pad" style="width:100%; height:120px; background:#000; color:var(--neon); border:1px solid var(--border); padding:10px;"></textarea>
    <button class="btn" onclick="localStorage.setItem('vox_note', document.getElementById('note-pad').value); alert('SAVED')">SAVE DATA</button>
</div></div>

<script>
    let isRoot = false;
    let currentPendingApp = "";

    function auth() {
        let p = document.getElementById('pin').value;
        if(p === '777') { isRoot = true; document.getElementById('adm-ico').style.display = 'flex'; enterSystem(); }
        else if(p === '111') { isRoot = false; document.getElementById('adm-ico').style.display = 'none'; enterSystem(); }
        else { alert('ACCESS DENIED'); }
    }

    function enterSystem() {
        document.getElementById('lock').style.display = 'none';
        document.getElementById('desktop').style.display = 'block';
        renderApps();
    }

    function wipeSystem() {
        if(confirm("WIPE SYSTEM?")) { localStorage.clear(); location.reload(); }
    }

    function showW(id) { 
        if(id === 'w-adm' && !isRoot) return;
        document.getElementById(id).style.display = 'flex'; 
    }
    
    function hideW(id) { document.getElementById(id).style.display = 'none'; }

    function askToInstall(name) {
        currentPendingApp = name;
        document.getElementById('choice-text').innerText = `GENESIS INSTALLER: ${name.toUpperCase()}`;
        showW('w-choice');
    }

    function installConfirmed(type) {
        if(type === 'store') { window.open(`https://play.google.com/store/search?q=${currentPendingApp}`); } 
        else {
            let apps = JSON.parse(localStorage.getItem('vox_genesis_v116') || '[]');
            if(!apps.includes(currentPendingApp)) { apps.push(currentPendingApp); localStorage.setItem('vox_genesis_v116', JSON.stringify(apps)); }
            renderApps();
        }
        hideW('w-choice');
    }

    function renderApps() {
        const container = document.getElementById('custom-apps');
        container.innerHTML = '';
        let apps = JSON.parse(localStorage.getItem('vox_genesis_v116') || '[]');
        apps.forEach(name => {
            const div = document.createElement('div'); div.className = 'icon';
            div.innerHTML = `<span>üì±</span><label>${name}</label>`;
            div.onclick = () => window.open(`https://play.google.com/store/search?q=${name}`);
            container.appendChild(div);
        });
    }

    function playMedia() {
        let url = document.getElementById('media-url').value;
        let frame = document.getElementById('v-frame');
        if(url.includes('youtube')) {
            frame.src = `https://www.youtube.com/embed/${url.split('v=')[1]}`;
            frame.style.height = "180px";
        } else { window.open(url); }
    }

    function handleSearch() {
        let v = document.getElementById('global-search').value;
        if(v) window.open('https://www.google.com/search?q=' + encodeURIComponent(v));
    }

    function globalVox() {
        const Rec = window.SpeechRecognition || window.webkitSpeechRecognition;
        if(!Rec) return;
        const r = new Rec(); r.lang = 'ru-RU';
        const b = document.getElementById('ai-btn');
        b.classList.add('active');
        r.onresult = (e) => {
            const cmd = e.results[0][0].transcript.toLowerCase();
            if(cmd.includes("–∞–¥–º–∏–Ω") || cmd.includes("—Ä—É—Ç")) showW('w-adm');
            else if(cmd.includes("—Å–∫–∞—á–∞–π") || cmd.includes("—É—Å—Ç–∞–Ω–æ–≤–∏")) {
                let appName = cmd.replace(/—Å–∫–∞—á–∞–π|—É—Å—Ç–∞–Ω–æ–≤–∏/g, "").trim();
                if(appName) askToInstall(appName);
            } 
            else { document.getElementById('global-search').value = cmd; handleSearch(); }
        };
        r.onend = () => b.classList.remove('active');
        r.start();
    }

    const c = document.getElementById('matrix-bg');
    const ctx = c.getContext('2d');
    c.width = window.innerWidth; c.height = window.innerHeight;
    const drops = Array(Math.floor(c.width/20)).fill(1);
    function draw() {
        ctx.fillStyle = "rgba(0,0,0,0.05)"; ctx.fillRect(0,0,c.width,c.height);
        ctx.fillStyle = "#00f2ff"; drops.forEach((y,i) => {
            ctx.fillText(Math.floor(Math.random()*2), i*20, y*20);
            if(y*20 > c.height && Math.random() > 0.975) drops[i]=0; drops[i]++;
        });
    }
    setInterval(draw, 50);
    setInterval(() => { document.getElementById('clock').innerText = new Date().toLocaleTimeString().slice(0,5); }, 1000);
</script>
</body>
</html>
