<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AND | Ultimate System</title>
    <style>
        :root {
            --main: #00ff88; --bg: #050505; --card: #111; --text: #eee; --border: #222; --sec: #ff0055;
        }
        [data-theme="light"] {
            --bg: #f0f2f5; --card: #ffffff; --text: #111; --border: #ddd;
        }
        body { margin: 0; background: var(--bg); color: var(--text); font-family: 'Segoe UI', sans-serif; transition: 0.3s; padding-bottom: 70px; overflow-x: hidden; }
        
        header { padding: 15px; text-align: center; background: var(--card); border-bottom: 1px solid var(--border); font-weight: bold; position: sticky; top: 0; z-index: 1000; }
        .stats-bar { display: flex; justify-content: space-around; padding: 10px; font-size: 11px; background: var(--bg); border-bottom: 1px solid var(--border); color: var(--main); font-family: monospace; }

        .container { max-width: 600px; margin: 0 auto; }
        .box { background: var(--card); margin: 15px; padding: 15px; border-radius: 15px; border: 1px solid var(--border); box-shadow: 0 5px 15px rgba(0,0,0,0.2); position: relative; }
        
        textarea, input { width: 100%; background: var(--bg); border: 1px solid var(--border); color: var(--text); outline: none; padding: 10px; border-radius: 8px; box-sizing: border-box; font-family: inherit; }
        textarea { resize: none; border: none; background: transparent; font-size: 16px; }

        .btn { border: none; padding: 10px 15px; border-radius: 10px; font-weight: bold; cursor: pointer; transition: 0.2s; }
        .btn-main { background: var(--main); color: #000; }
        .btn-sec { background: var(--sec); color: #fff; }
        .btn-ai { background: transparent; border: 1px solid var(--main); color: var(--main); margin-left: 10px; }
        .btn:active { transform: scale(0.95); }

        .post { border-left: 4px solid var(--main); animation: slide 0.3s ease; }
        .post.secret { border-left-color: var(--sec); background: rgba(255, 0, 85, 0.05); }
        @keyframes slide { from { opacity: 0; transform: translateY(10px); } }

        nav { position: fixed; bottom: 0; width: 100%; background: var(--card); display: flex; justify-content: space-around; padding: 15px 0; border-top: 1px solid var(--border); z-index: 1000; }
        .nav-item { cursor: pointer; font-size: 11px; font-weight: bold; color: #777; transition: 0.3s; text-align: center; }
        .nav-item.active { color: var(--main); }
        .nav-item.active-sec { color: var(--sec); }

        .hidden { display: none; }
        .panic-screen { background: black; color: red; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; font-family: monospace; }
    </style>
</head>
<body data-theme="dark">

<div id="app-content">
    <header id="h-title">AND NETWORK</header>

    <div class="stats-bar">
        <div>POSTS: <span id="stPosts">0</span></div>
        <div>UPTIME: <span id="stTime">0s</span></div>
        <div>STATUS: üü¢ ONLINE</div>
    </div>

    <div class="container">
        <div id="t-feed">
            <div class="box"><input type="text" id="search" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ—Å—Ç–æ–≤..." oninput="render()"></div>
            <div class="box">
                <textarea id="msg" placeholder="–ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ –≤–∞—à–µ–π —ç—Ä–µ?" rows="2"></textarea>
                <div style="display:flex; justify-content: flex-end;">
                    <button class="btn btn-main" onclick="send()">POST</button>
                    <button class="btn btn-ai" onclick="genAI()">ü§ñ AI</button>
                </div>
            </div>
            <div id="feed"></div>
        </div>

        <div id="t-secret" class="hidden">
            <div class="box" id="lock">
                <h3 style="color:var(--sec); text-align:center;">üîí –°–ï–ö–¢–û–† Z</h3>
                <p style="font-size:12px; text-align:center; opacity:0.6;">–û—Å—Ç–∞–ª–æ—Å—å –ø–æ–ø—ã—Ç–æ–∫: <span id="try">5</span></p>
                <input type="password" id="pass" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞...">
                <button class="btn btn-sec" style="width:100%; margin-top:10px;" onclick="unlock()">DECRYPT</button>
            </div>
            <div id="s-content" class="hidden">
                <div class="box" style="border-color: var(--sec);">
                    <textarea id="sMsg" placeholder="–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." style="color:var(--sec)"></textarea>
                    <button class="btn btn-sec" style="width:100%" onclick="sendSec()">–®–ò–§–†–û–í–ê–¢–¨</button>
                </div>
                <div id="sFeed"></div>
            </div>
        </div>

        <div id="t-profile" class="hidden">
            <div class="box" style="text-align:center;">
                <div id="pAva" style="width:70px; height:70px; border-radius:50%; margin:0 auto 15px; display:flex; align-items:center; justify-content:center; font-size:25px; color:#000; background:var(--main); font-weight:bold;">?</div>
                <input type="text" id="pName" placeholder="–ò–∑–º–µ–Ω–∏—Ç—å –Ω–∏–∫–Ω–µ–π–º" oninput="updAva()">
                <div style="margin:20px 0; display:flex; justify-content: space-between; align-items:center;">
                    <span>–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞</span>
                    <input type="checkbox" id="themeSwitch" onchange="toggleT()" style="width:auto;">
                </div>
                <button class="btn btn-main" style="width:100%" onclick="saveP()">–°–û–•–†–ê–ù–ò–¢–¨</button>
            </div>
        </div>
    </div>

    <nav>
        <div class="nav-item active" id="n-feed" onclick="tab('feed')">FEED</div>
        <div class="nav-item" id="n-secret" onclick="tab('secret')">üîí SECRET</div>
        <div class="nav-item" id="n-profile" onclick="tab('profile')">PROFILE</div>
    </nav>
</div>

<script>
    let user = JSON.parse(localStorage.getItem('and_user')) || { name: 'User', theme: 'dark' };
    let posts = JSON.parse(localStorage.getItem('and_posts')) || [];
    let secPosts = JSON.parse(localStorage.getItem('and_sec')) || [];
    let start = Date.now();
    let tries = 5;
    const PASS = "1234";

    function beep(freq = 800) {
        let c = new (window.AudioContext || window.webkitAudioContext)();
        let o = c.createOscillator(); let g = c.createGain();
        o.type = 'sine'; o.frequency.value = freq;
        g.gain.exponentialRampToValueAtTime(0.0001, c.currentTime + 0.1);
        o.connect(g); g.connect(c.destination);
        o.start(); o.stop(c.currentTime + 0.1);
    }

    function toggleT() { user.theme = document.getElementById('themeSwitch').checked ? 'light' : 'dark'; applyT(); }
    function applyT() { document.body.setAttribute('data-theme', user.theme); document.getElementById('themeSwitch').checked = (user.theme === 'light'); }
    function updAva() { let n = document.getElementById('pName').value || "?"; document.getElementById('pAva').innerText = n[0].toUpperCase(); }
    function saveP() { user.name = document.getElementById('pName').value || 'User'; localStorage.setItem('and_user', JSON.stringify(user)); alert("–ü—Ä–æ—Ñ–∏–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω!"); tab('feed'); }

    function send() {
        let t = document.getElementById('msg'); if(!t.value.trim()) return;
        beep(800); posts.unshift({ name: user.name, text: t.value, date: new Date().toLocaleTimeString() });
        t.value = ''; save();
    }

    function genAI() {
        let f = ["–°–∏—Å—Ç–µ–º–∞ AND —Å—Ç–∞–±–∏–ª—å–Ω–∞. ‚úÖ", "–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –Ω–æ–≤–∞—è —ç—Ä–∞. üöÄ", "–î–∞–Ω–Ω—ã–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã.", "–ë—É–¥—É—â–µ–µ ‚Äî —ç—Ç–æ –∫–æ–¥."];
        posts.unshift({ name: "AND_Bot", text: f[Math.floor(Math.random()*f.length)], date: new Date().toLocaleTimeString() });
        beep(1000); save();
    }

    function unlock() {
        let p = document.getElementById('pass');
        if(p.value === PASS) { 
            tries = 5; document.getElementById('lock').classList.add('hidden'); 
            document.getElementById('s-content').classList.remove('hidden'); renderS(); 
        } else {
            tries--; document.getElementById('try').innerText = tries;
            if(tries <= 0) panic(); else { alert("–û–®–ò–ë–ö–ê!"); p.value = ''; beep(200); }
        }
    }

    function panic() {
        localStorage.clear();
        document.body.innerHTML = `<div class="panic-screen"><h1>–°–ò–°–¢–ï–ú–ê –£–ù–ò–ß–¢–û–ñ–ï–ù–ê</h1><p>–ü–æ–ø—ã—Ç–∫–∞ –≤–∑–ª–æ–º–∞ –ø—Ä–µ—Å–µ—á–µ–Ω–∞. –î–∞–Ω–Ω—ã–µ —Å—Ç–µ—Ä—Ç—ã.</p><button onclick="location.reload()" style="background:red; color:white; border:none; padding:10px 20px; border-radius:5px;">REBOOT</button></div>`;
        beep(100);
    }

    function sendSec() {
        let t = document.getElementById('sMsg'); if(!t.value.trim()) return;
        secPosts.unshift({ text: t.value, date: new Date().toLocaleTimeString() });
        localStorage.setItem('and_sec', JSON.stringify(secPosts)); t.value = ''; renderS(); beep(400);
    }

    function save() { localStorage.setItem('and_posts', JSON.stringify(posts)); render(); }

    function render() {
        let q = document.getElementById('search').value.toLowerCase();
        document.getElementById('stPosts').innerText = posts.length;
        document.getElementById('feed').innerHTML = posts.filter(p => p.text.toLowerCase().includes(q))
            .map(p => `<div class="box post"><b style="color:var(--main)">@${p.name}</b> <small style="float:right; opacity:0.5">${p.date}</small><div style="margin-top:8px">${p.text}</div></div>`).join('');
    }

    function renderS() {
        document.getElementById('sFeed').innerHTML = secPosts.map(p => `<div class="box post secret"><small style="color:var(--sec)">${p.date}</small><div style="margin-top:5px; font-family:monospace;">> ${p.text}</div></div>`).join('');
    }

    function tab(t) {
        ['feed', 'secret', 'profile'].forEach(id => document.getElementById('t-'+id).classList.toggle('hidden', id !== t));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active', 'active-sec'));
        let target = document.getElementById('n-'+t);
        target.classList.add(t === 'secret' ? 'active-sec' : 'active');
        document.getElementById('h-title').innerText = t === 'secret' ? 'SECRET SECTOR' : (t === 'profile' ? 'SETTINGS' : 'AND NETWORK');
        if(t !== 'secret') { document.getElementById('lock').classList.remove('hidden'); document.getElementById('s-content').classList.add('hidden'); document.getElementById('pass').value = ''; }
        if(t === 'profile') { document.getElementById('pName').value = user.name; updAva(); }
    }

    setInterval(() => { document.getElementById('stTime').innerText = Math.floor((Date.now()-start)/1000) + 's'; }, 1000);
    applyT(); render();
</script>
</body>
</html>
