<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VOX OS v57 | ULTIMA</title>
    <style>
        :root { --main: #00ff41; --bg: #000; --win: #0a0a0a; --accent: #ff0055; --warn: #ffae00; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: var(--bg); color: var(--main); font-family: 'Consolas', monospace; overflow: hidden; }

        /* Desktop Grid */
        #desktop { width: 100%; height: 100%; display: grid; grid-template-columns: repeat(auto-fill, 100px); grid-template-rows: repeat(auto-fill, 110px); padding: 25px; gap: 15px; background: radial-gradient(circle, #001a05 0%, #000 100%); }
        .icon { display: flex; flex-direction: column; align-items: center; cursor: pointer; padding: 10px; border-radius: 8px; transition: 0.2s; }
        .icon:active { background: rgba(0, 255, 65, 0.2); transform: scale(0.9); }
        .icon span { font-size: 40px; margin-bottom: 5px; filter: drop-shadow(0 0 5px var(--main)); }
        .icon label { font-size: 10px; text-align: center; text-transform: uppercase; letter-spacing: 1px; line-height: 1.2; }

        /* Window System */
        .window { position: absolute; top: 5%; left: 5%; width: 90%; max-width: 450px; background: var(--win); border: 1px solid var(--main); display: none; flex-direction: column; z-index: 100; box-shadow: 0 0 40px rgba(0, 255, 65, 0.2); }
        .win-header { background: var(--main); color: #000; padding: 10px; display: flex; justify-content: space-between; align-items: center; font-weight: bold; font-size: 12px; }
        .close-btn { cursor: pointer; font-size: 24px; line-height: 1; padding: 0 5px; }
        .win-content { padding: 15px; max-height: 80vh; overflow-y: auto; text-align: center; }

        /* UI Elements */
        .btn { width: 100%; padding: 14px; background: var(--main); color: #000; border: none; font-weight: bold; cursor: pointer; text-transform: uppercase; margin-bottom: 8px; font-family: inherit; font-size: 12px; }
        .btn:active { opacity: 0.7; }
        input, textarea { width: 100%; padding: 12px; background: #000; border: 1px solid var(--main); color: var(--main); margin-bottom: 10px; font-family: inherit; }
        .log { height: 100px; overflow-y: auto; border: 1px solid #1a1a1a; padding: 10px; margin-bottom: 10px; font-size: 12px; background: #000; text-align: left; }
        
        /* Grid Helpers */
        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
        .calc-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; }

        /* Lock Screen */
        #lock-screen { position: fixed; inset: 0; background: #000; z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        
        /* Special Modes */
        .ghost-mode { filter: grayscale(1) contrast(3) brightness(0.3) blur(5px); pointer-events: none; }
        #death-msg { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); color: red; font-size: 24px; z-index: 10000; display: none; font-weight: bold; text-shadow: 0 0 10px red; }
    </style>
</head>
<body>

<div id="death-msg">CRITICAL_SYSTEM_WIPE</div>

<div id="lock-screen">
    <div style="letter-spacing: 8px; margin-bottom: 20px; font-size: 18px;">VOX_v57_ULTIMA</div>
    <input type="password" id="sys-pass" style="width: 220px; text-align: center; font-size: 18px;" placeholder="CODE: 777">
    <button class="btn" style="width: 220px;" onclick="unlock()">INITIALIZE</button>
</div>

<div id="desktop">
    <div class="icon" onclick="smartOpen('win-voice')"><span>üé§</span><label>–ì–æ–ª–æ—Å</label></div>
    <div class="icon" onclick="smartOpen('win-direct')"><span>üì°</span><label>–ü–µ—Ä–µ–¥–∞—á–∞</label></div>
    <div class="icon" onclick="smartOpen('win-chat')"><span>üí¨</span><label>–ß–∞—Ç</label></div>
    <div class="icon" onclick="smartOpen('win-player')"><span>üíø</span><label>–ü–ª–µ–µ—Ä</label></div>
    <div class="icon" onclick="smartOpen('win-org')"><span>üìÖ</span><label>–ó–∞–º–µ—Ç–∫–∏</label></div>
    <div class="icon" onclick="smartOpen('win-games')"><span>üéÆ</span><label>–ò–≥—Ä—ã</label></div>
    <div class="icon" onclick="smartOpen('win-tele')"><span>üß†</span><label>–¢–µ–ª–µ–ø–∞—Ç–∏—è</label></div>
    <div class="icon" onclick="smartOpen('win-death')"><span>üíÄ</span><label>–ú–∞—Ç—Ä–∏—Ü–∞</label></div>
</div>

<div id="win-voice" class="window">
    <div class="win-header"><span>VOICE CONTROL</span><span class="close-btn" onclick="closeWin('win-voice')">√ó</span></div>
    <div class="win-content">
        <button id="v-btn" class="btn" style="background:#ff4141; color:#fff;" onclick="startVoice()">–°–õ–£–®–ê–¢–¨</button>
        <div id="v-status" style="margin-bottom:10px; font-size:11px;">–ì–æ—Ç–æ–≤ –∫ –∫–æ–º–∞–Ω–¥–µ</div>
        <div id="v-choice-box" style="display:none; border:1px dashed var(--main); padding:10px;">
            <div id="v-res" style="color:#fff; margin-bottom:10px;"></div>
            <button class="btn" onclick="voiceAction('web')">–í –ü–û–ò–°–ö</button>
            <button class="btn" style="background:#111; color:var(--main); border:1px solid var(--main);" onclick="voiceAction('film')">–í –ö–ò–ù–û HD</button>
        </div>
    </div>
</div>

<div id="win-direct" class="window">
    <div class="win-header"><span>DIRECT P2P SHARE</span><span class="close-btn" onclick="closeWin('win-direct')">√ó</span></div>
    <div class="win-content">
        <p style="font-size:11px;">–ü—Ä—è–º–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–π–ª–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é VOX</p>
        <button class="btn" onclick="window.open('https://send-anywhere.com/')">–û–¢–ü–†–ê–í–ò–¢–¨ (–ü–û–õ–£–ß–ò–¢–¨ –ö–û–î)</button>
        <div style="margin-top:10px; border-top:1px solid #333; padding-top:10px;">
            <input id="p2p-code" placeholder="–í–≤–µ–¥–∏—Ç–µ 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥...">
            <button class="btn" style="background:#fff;">–ü–†–ò–ù–Ø–¢–¨ –§–ê–ô–õ</button>
        </div>
    </div>
</div>

<div id="win-tele" class="window">
    <div class="win-header"><span>TELEPATHY CLIPBOARD</span><span class="close-btn" onclick="closeWin('win-tele')">√ó</span></div>
    <div class="win-content">
        <input type="text" id="tele-key" placeholder="–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (—Å–ª–æ–≤–æ)...">
        <textarea id="tele-text" placeholder="–¢–µ–∫—Å—Ç –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏..." style="height:80px;"></textarea>
        <div class="grid-2">
            <button class="btn" onclick="alert('–î–∞–Ω–Ω—ã–µ –≤ —ç—Ñ–∏—Ä–µ!')">–û–¢–ü–†–ê–í–ò–¢–¨</button>
            <button class="btn" style="background:#fff;" onclick="alert('–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è...')">–ü–†–ò–ù–Ø–¢–¨</button>
        </div>
    </div>
</div>

<div id="win-player" class="window">
    <div class="win-header"><span>ULTIMA PLAYER</span><span class="close-btn" onclick="closeWin('win-player')">√ó</span></div>
    <div class="win-content">
        <video id="v-play" controls style="width:100%; display:none; background:#000;"></video>
        <audio id="a-play" controls style="width:100%; margin-bottom:10px;"></audio>
        <input id="m-url" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ MP3 / MP4...">
        <div class="grid-2">
            <button class="btn" onclick="playMedia()">–ò–ì–†–ê–¢–¨</button>
            <button class="btn" style="background:var(--accent); color:#fff;" onclick="stopMedia()">–°–¢–û–ü</button>
        </div>
    </div>
</div>

<div id="win-org" class="window">
    <div class="win-header"><span>ORGANIZER</span><span class="close-btn" onclick="closeWin('win-org')">√ó</span></div>
    <div class="win-content">
        <div id="note-log" class="log"></div>
        <input id="note-in" placeholder="–ó–∞–º–µ—Ç–∫–∞...">
        <button class="btn" onclick="addNote()">–ó–ê–ü–ò–°–ê–¢–¨</button>
        <hr border="0" style="border-top:1px solid #333; margin:10px 0;">
        <input id="calc-res" disabled style="text-align:right; font-size:20px;">
        <div class="calc-grid">
            <button class="btn" onclick="calc(1)">1</button><button class="btn" onclick="calc(2)">2</button><button class="btn" onclick="calc(3)">3</button><button class="btn" onclick="calc('+')">+</button>
            <button class="btn" onclick="calc(4)">4</button><button class="btn" onclick="calc(5)">5</button><button class="btn" onclick="calc(6)">6</button><button class="btn" onclick="calc('-')">-</button>
            <button class="btn" style="background:#f44336;" onclick="document.getElementById('calc-res').value=''">C</button><button class="btn" onclick="calc(0)">0</button><button class="btn" onclick="calcEval()">=</button><button class="btn" onclick="calc('/')">/</button>
        </div>
    </div>
</div>

<div id="win-death" class="window">
    <div class="win-header"><span>WIPE SYSTEM</span><span class="close-btn" onclick="closeWin('win-death')">√ó</span></div>
    <div class="win-content">
        <p style="color:red; font-weight:bold;">–ú–ì–ù–û–í–ï–ù–ù–û–ï –£–ù–ò–ß–¢–û–ñ–ï–ù–ò–ï –î–ê–ù–ù–´–• –°–ï–°–°–ò–ò</p>
        <button class="btn" style="background:red; color:#fff;" onclick="deathMode()">–ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨</button>
    </div>
</div>

<div id="win-games" class="window"><div class="win-header"><span>VOX GAMES</span><span class="close-btn" onclick="closeWin('win-games')">√ó</span></div><div class="win-content"><button class="btn" onclick="window.open('https://tetris.com/play-tetris')">TETRIS</button><button class="btn" onclick="window.open('https://solitaired.com/')">SOLITAIRE</button></div></div>
<div id="win-chat" class="window"><div class="win-header"><span>GLOBAL CHAT</span><span class="close-btn" onclick="closeWin('win-chat')">√ó</span></div><div class="win-content"><input id="room" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã..."><button class="btn" onclick="window.open('https://element.io/app/#/room/#VOX_GENERAL:matrix.org')">–í–û–ô–¢–ò –í –°–ï–¢–¨</button></div></div>

<script>
    let currentWin = null;
    let voiceText = "";

    function unlock() {
        if(document.getElementById('sys-pass').value === "777" || document.getElementById('sys-pass').value === "VOX-777") {
            document.getElementById('lock-screen').style.display = 'none';
        } else alert("ACCESS_DENIED");
    }

    function smartOpen(id) {
        if(currentWin) closeWin(currentWin);
        document.getElementById(id).style.display = 'flex';
        currentWin = id;
    }
    function closeWin(id) { document.getElementById(id).style.display = 'none'; currentWin = null; }

    // –ì–æ–ª–æ—Å
    function startVoice() {
        if (!('webkitSpeechRecognition' in window)) return alert("Voice Not Supported");
        const r = new webkitSpeechRecognition(); r.lang = 'ru-RU';
        document.getElementById('v-status').innerText = "–°–õ–£–®–ê–Æ...";
        r.onresult = (e) => {
            voiceText = e.results[0][0].transcript;
            document.getElementById('v-res').innerText = ">> " + voiceText;
            document.getElementById('v-choice-box').style.display = 'block';
            document.getElementById('v-status').innerText = "–û–ñ–ò–î–ê–ù–ò–ï –í–´–ë–û–†–ê";
        };
        r.start();
    }
    function voiceAction(t) {
        let url = "https://google.com/search?q=" + encodeURIComponent(voiceText);
        if(t === 'film') url += "+—Ñ–∏–ª—å–º+—Å–º–æ—Ç—Ä–µ—Ç—å+–æ–Ω–ª–∞–π–Ω+hd";
        window.open(url);
    }

    // –ü–ª–µ–µ—Ä
    function playMedia() {
        const u = document.getElementById('m-url').value;
        const v = document.getElementById('v-play'); const a = document.getElementById('a-play');
        if(u.includes('.mp4')) { a.pause(); a.style.display='none'; v.src=u; v.style.display='block'; v.play(); }
        else { v.pause(); v.style.display='none'; a.src=u; a.style.display='block'; a.play(); }
    }
    function stopMedia() { document.getElementById('v-play').pause(); document.getElementById('a-play').pause(); }

    // –û—Ä–≥–∞–Ω–∞–π–∑–µ—Ä
    function addNote() {
        const i = document.getElementById('note-in'); const l = document.getElementById('note-log');
        if(i.value) { l.innerHTML += `<div>‚Ä¢ ${i.value}</div>`; i.value = ''; l.scrollTop = l.scrollHeight; }
    }
    function calc(v) { document.getElementById('calc-res').value += v; }
    function calcEval() { try { document.getElementById('calc-res').value = eval(document.getElementById('calc-res').value); } catch { alert('!'); } }

    // –ú–∞—Ç—Ä–∏—Ü–∞ —Å–º–µ—Ä—Ç–∏
    function deathMode() {
        if(confirm("–£–ù–ò–ß–¢–û–ñ–ò–¢–¨ –í–°–Å?")) {
            document.body.classList.add('ghost-mode');
            document.getElementById('death-msg').style.display = 'block';
            setTimeout(() => { location.reload(); }, 2500);
        }
    }
</script>
</body>
</html>
