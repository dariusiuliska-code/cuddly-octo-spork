<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AND GLOBAL OS | VOX EDITION</title>
    <style>
        :root { --main: #00ff88; --accent: #00d4ff; --tt: #ff0050; --bg: #050505; --card: rgba(20, 20, 20, 0.9); }
        
        body { 
            margin: 0; background: var(--bg); color: #fff; font-family: 'Segoe UI', monospace; 
            height: 100vh; display: flex; flex-direction: column; overflow: hidden;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞ */
        #traffic-loader { height: 2px; width: 0%; background: var(--main); position: fixed; top: 0; left: 0; z-index: 10001; transition: 0.4s; box-shadow: 0 0 10px var(--main); }

        /* –®–∞–ø–∫–∞ */
        .top-bar { display: flex; justify-content: space-between; padding: 12px 20px; background: rgba(0,0,0,0.9); border-bottom: 1px solid #333; backdrop-filter: blur(15px); z-index: 10; align-items: center; }
        .logo { font-weight: bold; color: var(--main); text-shadow: 0 0 10px var(--main); letter-spacing: 2px; }
        .status-group { display: flex; gap: 15px; align-items: center; font-size: 11px; font-family: monospace; }
        #clock { color: var(--main); }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .nav { display: flex; background: #000; border-bottom: 1px solid #222; }
        .nav-btn { flex: 1; padding: 15px; font-size: 10px; font-weight: bold; cursor: pointer; color: #555; text-align: center; border-bottom: 2px solid transparent; text-transform: uppercase; }
        .nav-btn.active { color: var(--main); border-bottom-color: var(--main); background: rgba(0,255,136,0.05); }

        /* –ö–æ–Ω—Ç–µ–Ω—Ç */
        .container { flex: 1; overflow-y: auto; padding: 15px; }
        .box { background: var(--card); padding: 15px; border-radius: 12px; margin-bottom: 15px; border: 1px solid rgba(255,255,255,0.05); }
        .label { font-size: 9px; color: var(--main); text-transform: uppercase; margin-bottom: 10px; display: block; opacity: 0.7; }

        input { width: 100%; padding: 12px; background: rgba(0,0,0,0.5); border: 1px solid #444; color: #fff; border-radius: 8px; box-sizing: border-box; outline: none; margin-bottom: 10px; }
        .btn { background: var(--main); color: #000; border: none; padding: 12px; width: 100%; border-radius: 8px; font-weight: bold; cursor: pointer; text-transform: uppercase; font-size: 10px; margin-bottom: 5px; transition: 0.2s; }
        .btn:active { transform: scale(0.98); }

        /* –õ–æ–≥–∏ */
        #system-logs { background: rgba(0,0,0,0.8); border: 1px dashed #333; height: 80px; overflow-y: auto; font-family: monospace; font-size: 10px; color: #888; padding: 10px; border-radius: 8px; margin-bottom: 15px; }
        
        #toast-container { position: fixed; bottom: 20px; right: 20px; z-index: 10000; }
        .toast { background: var(--main); color: #000; padding: 10px 18px; border-radius: 4px; font-size: 11px; font-weight: bold; margin-top: 8px; animation: slideIn 0.3s forwards; }
        @keyframes slideIn { from { transform: translateX(120%); } to { transform: translateX(0); } }

        #matrix { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999; display: none; background: #000; }
        .hidden { display: none !important; }
        hr { border: 0; border-top: 1px solid #222; margin: 10px 0; }
    </style>
</head>
<body>

<div id="traffic-loader"></div>
<canvas id="matrix"></canvas>
<div id="toast-container"></div>

<div class="top-bar">
    <div class="logo" id="os-logo">AND GLOBAL OS</div>
    <div class="status-group">
        <div id="clock">00:00:00</div>
        <div id="battery">üîã --%</div>
        <div id="weather">üì° ONLINE</div>
    </div>
</div>

<div class="nav">
    <div class="nav-btn active" onclick="tab('terminal', this)">CORE üñ•Ô∏è</div>
    <div class="nav-btn" onclick="tab('search', this)">MEDIA üì°</div>
    <div class="nav-btn" onclick="tab('comm', this)">COMM üé•</div>
</div>

<div class="container">
    <div id="system-logs"><div>[ SYSTEM KERNEL v4.0 ONLINE ]</div></div>

    <div id="p-terminal" class="page">
        <div class="box">
            <span class="label">Kernel Input</span>
            <input type="text" id="cmd-val" placeholder="–í–≤–µ–¥–∏—Ç–µ /–∫–æ–º–∞–Ω–¥—É –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ..." onkeypress="if(event.key==='Enter') sendCmd()">
            <button class="btn" onclick="sendCmd()">EXECUTE</button>
        </div>
        <div id="chat-wall" class="box" style="font-size: 12px; max-height: 300px; overflow-y: auto;"></div>
    </div>

    <div id="p-search" class="page hidden">
        <div class="box">
            <span class="label">Cinema & Web Hub</span>
            <input type="text" id="query" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ –∏–ª–∏ –∑–∞–ø—Ä–æ—Å...">
            <div style="display:grid; grid-template-columns: 1fr; gap:8px;">
                <button class="btn" style="background:#E50914; color:white" onclick="search('cinema')">–ù–ê–ô–¢–ò –ò –°–ú–û–¢–†–ï–¢–¨ –ö–ò–ù–û</button>
                <button class="btn" style="background:linear-gradient(45deg, #8a2be2, #00d4ff); color:white" onclick="randomMovie()">üé≤ –°–õ–£–ß–ê–ô–ù–´–ô –§–ò–õ–¨–ú –î–ù–Ø</button>
            </div>
            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:8px; margin-top:10px;">
                <button class="btn" style="background:#4285F4; color:white" onclick="search('google')">GOOGLE</button>
                <button class="btn" style="background:#fff; color:#000" onclick="search('wiki')">WIKIPEDIA</button>
            </div>
        </div>
        <div class="box">
            <span class="label">Music Player (24/7 Streams)</span>
            <div id="music-status" style="margin-bottom: 10px; font-size: 11px; color: var(--main);">STATUS: STANDBY</div>
            <button class="btn" onclick="playMusic('https://icecast.vrtcdn.be/mnm_hits-high.mp3', 'POP HITS')">TOP HITS</button>
            <button class="btn" onclick="playMusic('http://stream.nightride.fm/nightride.mp3', 'SYNTHWAVE')">SYNTHWAVE</button>
            <button class="btn" style="background:var(--tt); color:#fff; margin-top:10px;" onclick="stopMusic()">STOP AUDIO</button>
        </div>
    </div>

    <div id="p-comm" class="page hidden">
        <div class="box">
            <span class="label">Encrypted Video Conference</span>
            <input type="text" id="room-id" placeholder="–ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã...">
            <button class="btn" style="background:var(--accent); color:#000" onclick="joinMeeting()">–í–û–ô–¢–ò –ü–û –ö–û–î–£</button>
            <button class="btn" onclick="generateMeeting()">–ì–ï–ù–ï–†–ò–†–û–í–ê–¢–¨ –ù–û–í–´–ô –ö–û–î</button>
        </div>
        <div class="box">
            <span class="label">System Tools</span>
            <button class="btn" onclick="handleCommand('/status')">–î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –°–ò–°–¢–ï–ú–´</button>
            <button class="btn" onclick="handleCommand('/export')">–≠–ö–°–ü–û–†–¢ –î–ê–ù–ù–´–• (.TXT)</button>
        </div>
    </div>
</div>

<script>
    window.sessionStart = Date.now();
    let posts = JSON.parse(localStorage.getItem('os_posts')) || [];
    let audio = null;

    function updateClock() { document.getElementById('clock').innerText = new Date().toLocaleTimeString('ru-RU'); }
    setInterval(updateClock, 1000);

    function startLoader() {
        const l = document.getElementById('traffic-loader');
        l.style.width = '100%';
        setTimeout(() => l.style.width = '0%', 800);
    }

    function showNotify(text) {
        const container = document.getElementById('toast-container');
        const toast = document.createElement('div');
        toast.className = 'toast';
        toast.innerText = `[ SYS ]: ${text}`;
        container.appendChild(toast);
        setTimeout(() => toast.remove(), 3000);
        const logs = document.getElementById('system-logs');
        logs.innerHTML += `<div>> ${text}</div>`;
        logs.scrollTop = logs.scrollHeight;
    }

    // --- –ú–ï–î–ò–ê –ò –ü–û–ò–°–ö ---
    function search(type) {
        startLoader();
        const q = document.getElementById('query').value;
        if(!q && type !== 'wiki') return showNotify('–í–í–ï–î–ò–¢–ï –ó–ê–ü–†–û–°');
        let url = type === 'cinema' ? `https://google.com/search?q=${q}+—Å–º–æ—Ç—Ä–µ—Ç—å+–æ–Ω–ª–∞–π–Ω+–±–µ—Å–ø–ª–∞—Ç–Ω–æ` : 
                  type === 'google' ? `https://google.com/search?q=${q}` : `https://ru.wikipedia.org/wiki/${q}`;
        window.open(url, '_blank');
        showNotify(`${type.toUpperCase()} REQUEST SENT`);
    }

    function randomMovie() {
        startLoader();
        const genres = ["—Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞ 2025", "–±–æ–µ–≤–∏–∫ —Å –≤—ã—Å–æ–∫–∏–º —Ä–µ–π—Ç–∏–Ω–≥–æ–º", "—Ç—Ä–∏–ª–ª–µ—Ä –Ω–∞ –≤–µ—á–µ—Ä", "–∫–æ–º–µ–¥–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ"];
        const choice = genres[Math.floor(Math.random()*genres.length)];
        window.open(`https://google.com/search?q=${choice}+—Å–º–æ—Ç—Ä–µ—Ç—å+–æ–Ω–ª–∞–π–Ω+–±–µ—Å–ø–ª–∞—Ç–Ω–æ`, '_blank');
        showNotify(`–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: ${choice.toUpperCase()}`);
    }

    function playMusic(url, name) {
        startLoader();
        if(audio) audio.pause();
        audio = new Audio(url);
        audio.play();
        document.getElementById('music-status').innerText = `PLAYING: ${name}`;
        showNotify(`STREAMING: ${name}`);
    }

    function stopMusic() {
        if(audio) { audio.pause(); audio = null; }
        document.getElementById('music-status').innerText = "STATUS: STOPPED";
        showNotify("AUDIO HALTED");
    }

    // --- –°–í–Ø–ó–¨ ---
    function generateMeeting() {
        const code = "VOX-" + Math.random().toString(36).substring(7).toUpperCase();
        document.getElementById('room-id').value = code;
        showNotify(`NEW CODE: ${code}`);
    }

    function joinMeeting() {
        startLoader();
        const code = document.getElementById('room-id').value;
        if(!code) return showNotify('–í–í–ï–î–ò–¢–ï –ö–û–î');
        window.open(`https://meet.jit.si/${code}`, '_blank');
        showNotify(`CONNECTING TO ${code}`);
    }

    // --- –Ø–î–†–û ---
    function sendCmd() {
        const inp = document.getElementById('cmd-val');
        if(!inp.value) return;
        if(inp.value.startsWith('/')) { handleCommand(inp.value); } 
        else {
            posts.unshift({ t: inp.value, d: new Date().toLocaleTimeString(), u: localStorage.getItem('os_user') || 'GUEST' });
            localStorage.setItem('os_posts', JSON.stringify(posts));
            renderPosts();
        }
        inp.value = '';
    }

    function handleCommand(cmd) {
        startLoader();
        const [c, a] = cmd.split(' ');
        switch(c) {
            case '/matrix': startMatrix(); break;
            case '/status': 
                const up = Math.floor((Date.now()-window.sessionStart)/1000);
                showNotify(`UPTIME: ${up}s | DATA: ${posts.length} entries`);
                break;
            case '/login': localStorage.setItem('os_user', a); showNotify(`USER: ${a}`); break;
            case '/clear': posts = []; renderPosts(); showNotify('CLEARED'); break;
            case '/export':
                const blob = new Blob([JSON.stringify(posts)], {type:'text/plain'});
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url; link.download = 'vox_data.txt'; link.click();
                showNotify('EXPORT DONE');
                break;
        }
    }

    function renderPosts() {
        document.getElementById('chat-wall').innerHTML = posts.map(p => `<div><small>${p.d} [${p.u}]</small><br>${p.t}</div><hr>`).join('');
    }

    function tab(name, el) {
        document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
        document.getElementById('p-'+name).classList.remove('hidden');
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        el.classList.add('active');
    }

    function startMatrix() {
        const c = document.getElementById('matrix');
        const ctx = c.getContext('2d');
        c.style.display = 'block';
        c.width = window.innerWidth; c.height = window.innerHeight;
        const drops = Array(Math.floor(c.width/16)).fill(1);
        const iter = setInterval(() => {
            ctx.fillStyle = 'rgba(0,0,0,0.05)';
            ctx.fillRect(0,0,c.width,c.height);
            ctx.fillStyle = '#0f8';
            drops.forEach((y, i) => {
                ctx.fillText(String.fromCharCode(Math.random()*128), i*16, y*16);
                if(y*16 > c.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            });
        }, 33);
        c.onclick = () => { clearInterval(iter); c.style.display = 'none'; };
    }

    window.onload = renderPosts;
</script>
</body>
</html>
