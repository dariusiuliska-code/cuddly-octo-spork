<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AND GLOBAL OS | VOX EDITION</title>
    <style>
        :root { --main: #00ff88; --accent: #00d4ff; --bg: #050505; --card: rgba(20, 20, 20, 0.9); }
        body { margin: 0; background: var(--bg); color: #fff; font-family: 'Segoe UI', monospace; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        
        .top-bar { display: flex; justify-content: space-between; padding: 12px 20px; background: rgba(0,0,0,0.9); border-bottom: 1px solid #333; backdrop-filter: blur(15px); z-index: 10; align-items: center; }
        .logo { font-weight: bold; color: var(--main); text-shadow: 0 0 10px var(--main); letter-spacing: 2px; }
        
        .nav { display: flex; background: #000; border-bottom: 1px solid #222; }
        .nav-btn { flex: 1; padding: 15px; font-size: 10px; font-weight: bold; cursor: pointer; color: #555; text-align: center; border-bottom: 2px solid transparent; text-transform: uppercase; }
        .nav-btn.active { color: var(--main); border-bottom-color: var(--main); background: rgba(0,255,136,0.05); }

        .container { flex: 1; overflow-y: auto; padding: 15px; }
        .box { background: var(--card); padding: 15px; border-radius: 12px; margin-bottom: 15px; border: 1px solid rgba(255,255,255,0.05); }
        .label { font-size: 9px; color: var(--main); text-transform: uppercase; margin-bottom: 10px; display: block; opacity: 0.7; }

        input { width: 100%; padding: 12px; background: rgba(0,0,0,0.5); border: 1px solid #444; color: #fff; border-radius: 8px; box-sizing: border-box; outline: none; margin-bottom: 10px; font-family: monospace; }
        .btn { background: var(--main); color: #000; border: none; padding: 12px; width: 100%; border-radius: 8px; font-weight: bold; cursor: pointer; text-transform: uppercase; font-size: 10px; margin-bottom: 5px; }
        
        #system-logs { background: rgba(0,0,0,0.8); border: 1px dashed #333; height: 80px; overflow-y: auto; font-family: monospace; font-size: 10px; color: #888; padding: 10px; border-radius: 8px; margin-bottom: 15px; }
        #toast-container { position: fixed; bottom: 20px; right: 20px; z-index: 10000; }
        .toast { background: var(--main); color: #000; padding: 10px 18px; border-radius: 4px; font-size: 11px; font-weight: bold; margin-top: 8px; animation: slideIn 0.3s forwards; }
        @keyframes slideIn { from { transform: translateX(120%); } to { transform: translateX(0); } }
        
        #matrix { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999; display: none; background: #000; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

<canvas id="matrix"></canvas>
<div id="toast-container"></div>

<div class="top-bar">
    <div class="logo" id="os-logo">AND GLOBAL OS</div>
    <div style="font-size: 11px; color: var(--main);" id="clock">00:00:00</div>
</div>

<div class="nav">
    <div class="nav-btn active" onclick="tab('terminal', this)">CORE üñ•Ô∏è</div>
    <div class="nav-btn" onclick="tab('search', this)">SEARCH üì°</div>
    <div class="nav-btn" onclick="tab('comm', this)">VIDEO üé•</div>
</div>

<div class="container">
    <div id="system-logs"><div>[ KERNEL READY ]</div></div>

    <div id="p-terminal" class="page">
        <div class="box">
            <span class="label">Terminal Input</span>
            <input type="text" id="cmd-val" placeholder="–í–≤–µ–¥–∏—Ç–µ /–∫–æ–º–∞–Ω–¥—É..." onkeypress="if(event.key==='Enter') sendCmd()">
            <button class="btn" onclick="sendCmd()">SEND</button>
        </div>
        <div id="chat-wall" class="box" style="font-size: 12px;"></div>
    </div>

    <div id="p-search" class="page hidden">
        <div class="box">
            <span class="label">Web Intelligence</span>
            <input type="text" id="query" placeholder="–ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏...">
            <button class="btn" style="background:#4285F4; color:white" onclick="search('google')">GOOGLE SEARCH</button>
            <button class="btn" style="background:#fff; color:#000" onclick="search('wiki')">WIKIPEDIA</button>
        </div>
        <div class="box">
            <span class="label">Music Stream</span>
            <button class="btn" style="background:#444; color:#fff" onclick="playMusic()">LO-FI RADIO 24/7</button>
        </div>
    </div>

    <div id="p-comm" class="page hidden">
        <div class="box">
            <span class="label">Video Encrypted Channel</span>
            <input type="text" id="room-id" placeholder="–ö–æ–¥ –∫–æ–º–Ω–∞—Ç—ã (–Ω–∞–ø—Ä. MY-ROOM)">
            <button class="btn" style="background:var(--accent); color:#000" onclick="joinMeeting()">–í–û–ô–¢–ò –ü–û –ö–û–î–£</button>
            <hr style="border:0; border-top:1px solid #333; margin:15px 0;">
            <button class="btn" onclick="generateMeeting()">–ì–ï–ù–ï–†–ò–†–û–í–ê–¢–¨ –ù–û–í–´–ô –ö–û–î</button>
        </div>
    </div>
</div>

<script>
    let posts = JSON.parse(localStorage.getItem('os_posts')) || [];
    let audio = null;

    function updateClock() { document.getElementById('clock').innerText = new Date().toLocaleTimeString('ru-RU'); }
    setInterval(updateClock, 1000);

    function showNotify(text) {
        const container = document.getElementById('toast-container');
        const toast = document.createElement('div');
        toast.className = 'toast';
        toast.innerText = `[ SYS ]: ${text}`;
        container.appendChild(toast);
        setTimeout(() => toast.remove(), 3000);
        const logs = document.getElementById('system-logs');
        logs.innerHTML += `<div>> ${text}</div>`;
        logs.scrollTop = logs.scrollHeight;
    }

    // --- –§–£–ù–ö–¶–ò–ò –ü–û–ò–°–ö–ê ---
    function search(type) {
        const q = document.getElementById('query').value;
        if(!q) return;
        const url = type === 'google' ? `https://google.com/search?q=${q}` : `https://ru.wikipedia.org/wiki/${q}`;
        window.open(url, '_blank');
        showNotify(`SEARCHING ${type.toUpperCase()}...`);
    }

    // --- –í–ò–î–ï–û–°–í–Ø–ó–¨ –ü–û –ö–û–î–£ ---
    function generateMeeting() {
        const code = "VOX-" + Math.random().toString(36).substring(7).toUpperCase();
        document.getElementById('room-id').value = code;
        showNotify(`NEW CODE: ${code}`);
    }

    function joinMeeting() {
        const code = document.getElementById('room-id').value.trim();
        if(!code) return showNotify('–í–í–ï–î–ò–¢–ï –ö–û–î', '#ffaa00');
        window.open(`https://meet.jit.si/${code}`, '_blank');
        showNotify(`CONNECTING TO: ${code}`);
    }

    // --- –ú–ï–î–ò–ê ---
    function playMusic() {
        if(audio) { audio.pause(); audio = null; showNotify('MUSIC STOPPED'); return; }
        audio = new Audio('https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3');
        audio.play();
        showNotify('LO-FI STREAM STARTED');
    }

    // --- –Ø–î–†–û ---
    function sendCmd() {
        const inp = document.getElementById('cmd-val');
        if(!inp.value) return;
        if(inp.value.startsWith('/')) { handleCommand(inp.value); } 
        else {
            posts.unshift({ t: inp.value, d: new Date().toLocaleTimeString() });
            localStorage.setItem('os_posts', JSON.stringify(posts));
            renderPosts();
        }
        inp.value = '';
    }

    function handleCommand(cmd) {
        const [c, a] = cmd.split(' ');
        if(c === '/matrix') startMatrix();
        if(c === '/clear') { posts = []; renderPosts(); showNotify('CLEARED'); }
        if(c === '/login') { localStorage.setItem('os_user', a); showNotify('USER UPDATED'); }
    }

    function renderPosts() {
        document.getElementById('chat-wall').innerHTML = posts.map(p => `<div><small>${p.d}</small> ${p.t}</div>`).join('<hr style="border:0;border-top:1px solid #222">');
    }

    function tab(name, el) {
        document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
        document.getElementById('p-'+name).classList.remove('hidden');
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        el.classList.add('active');
    }

    function startMatrix() {
        const c = document.getElementById('matrix');
        const ctx = c.getContext('2d');
        c.style.display = 'block';
        c.width = window.innerWidth; c.height = window.innerHeight;
        const drops = Array(Math.floor(c.width/16)).fill(1);
        const iter = setInterval(() => {
            ctx.fillStyle = 'rgba(0,0,0,0.05)';
            ctx.fillRect(0,0,c.width,c.height);
            ctx.fillStyle = '#0f8';
            drops.forEach((y, i) => {
                ctx.fillText(String.fromCharCode(Math.random()*128), i*16, y*16);
                if(y*16 > c.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            });
        }, 33);
        c.onclick = () => { clearInterval(iter); c.style.display = 'none'; };
    }

    window.onload = renderPosts;
</script>
</body>
</html>
