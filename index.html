<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AND | GLOBAL OS AI</title>
    <script src="https://meet.jit.si/external_api.js"></script>
    <style>
        :root { --main: #00ff88; --bg: #000; --card: rgba(20, 20, 20, 0.9); --text: #eee; --ai-color: #00d4ff; }
        body { margin: 0; background: var(--bg); color: var(--text); font-family: 'Segoe UI', sans-serif; display: flex; flex-direction: column; height: 100vh; overflow: hidden; background-size: cover; background-position: center; }
        
        /* –ü–∞–Ω–µ–ª—å */
        .top-bar { display: flex; justify-content: space-between; align-items: center; padding: 10px 15px; background: rgba(0,0,0,0.85); backdrop-filter: blur(10px); border-bottom: 1px solid #333; z-index: 1000; }
        #weather-info { font-size: 13px; font-weight: bold; color: var(--main); }
        .logo { font-weight: bold; letter-spacing: 2px; color: var(--main); text-shadow: 0 0 8px var(--main); }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .nav { display: flex; background: rgba(15, 15, 15, 0.95); border-bottom: 1px solid #333; overflow-x: auto; scrollbar-width: none; }
        .nav-btn { flex: 1; padding: 15px 10px; font-size: 10px; font-weight: bold; cursor: pointer; color: #666; text-transform: uppercase; text-align: center; border-bottom: 2px solid transparent; min-width: 70px; }
        .nav-btn.active { color: var(--main); border-bottom: 2px solid var(--main); background: rgba(0,255,136,0.05); }
        .nav-btn.ai-btn { color: var(--ai-color); }
        .nav-btn.ai-btn.active { border-bottom-color: var(--ai-color); }

        .container { flex: 1; overflow-y: auto; padding: 10px; }
        .box { background: var(--card); padding: 15px; border-radius: 12px; margin-bottom: 15px; border: 1px solid #333; backdrop-filter: blur(10px); }
        
        input, textarea { width: 100%; padding: 12px; background: rgba(0,0,0,0.6); border: 1px solid #444; color: #fff; border-radius: 8px; box-sizing: border-box; margin-bottom: 10px; outline: none; }
        .btn { background: var(--main); color: #000; border: none; padding: 14px; width: 100%; border-radius: 8px; font-weight: bold; cursor: pointer; }

        /* AI TERMINAL */
        .ai-terminal { background: rgba(0, 20, 40, 0.9); border: 1px solid var(--ai-color); color: var(--ai-color); font-family: 'Courier New', monospace; min-height: 300px; display: flex; flex-direction: column; }
        #ai-log { flex: 1; overflow-y: auto; padding: 10px; font-size: 14px; margin-bottom: 10px; }
        .ai-input { border-color: var(--ai-color) !important; color: #fff !important; }

        /* Winamp */
        .winamp { background: #333; border: 3px solid #555; padding: 10px; border-radius: 4px; box-shadow: inset 0 0 15px #000; }
        .wa-display { background: #000; padding: 8px; color: #00ff00; font-family: monospace; font-size: 12px; margin-bottom: 10px; }

        .hidden { display: none !important; }
        #video-container { width: 100%; border-radius: 8px; height: 350px; background: #000; margin-top: 10px; }
    </style>
</head>
<body>

<div class="top-bar">
    <div class="logo">AND GLOBAL OS</div>
    <div id="weather-info">üå§...</div>
</div>

<div class="nav">
    <div class="nav-btn active" onclick="show('feed', this)">–ß–ê–¢ üí¨</div>
    <div class="nav-btn ai-btn" onclick="show('ai', this)">AI ü§ñ</div>
    <div class="nav-btn" onclick="show('music', this)">MUSIC üìª</div>
    <div class="nav-btn" onclick="show('video', this)">VIDEO üé•</div>
    <div class="nav-btn" onclick="show('search', this)">SEARCH üîç</div>
</div>

<div class="container">
    <div id="p-feed" class="page">
        <div class="box">
            <textarea id="txt" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ..." rows="2"></textarea>
            <button class="btn" onclick="add()">–û–¢–ü–†–ê–í–ò–¢–¨</button>
        </div>
        <div id="wall"></div>
    </div>

    <div id="p-ai" class="page hidden">
        <div class="box ai-terminal">
            <div id="ai-log">>>> –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞. –í–≤–µ–¥–∏—Ç–µ –≤–∞—à –∑–∞–ø—Ä–æ—Å –∫ AI Gemini...</div>
            <input type="text" id="ai-q" class="ai-input" placeholder="–°–ø—Ä–æ—Å–∏ –º–µ–Ω—è –æ —á–µ–º —É–≥–æ–¥–Ω–æ..." onkeypress="if(event.key==='Enter') aiAsk()">
            <button class="btn" style="background: var(--ai-color);" onclick="aiAsk()">–í–´–ü–û–õ–ù–ò–¢–¨</button>
        </div>
    </div>

    <div id="p-music" class="page hidden">
        <div class="box winamp">
            <div class="wa-display">
                <div id="wa-title">WINAMP READY</div>
                <div id="wa-time">00:00</div>
            </div>
            <input type="text" id="wa-url" placeholder="–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ MP3/–†–∞–¥–∏–æ...">
            <button class="wa-btn btn" onclick="waPlay()">PLAY</button>
            <audio id="main-audio" style="display:none"></audio>
        </div>
    </div>

    <div id="p-video" class="page hidden">
        <div class="box">
            <input type="text" id="room-id" placeholder="–ö–æ–º–Ω–∞—Ç–∞">
            <button class="btn" onclick="startCall()">–ó–í–û–ù–û–ö</button>
            <div id="video-container"></div>
        </div>
    </div>

    <div id="p-search" class="page hidden">
        <div class="box">
            <input type="text" id="global-q" placeholder="–ü–æ–∏—Å–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏–ª–∏ –∏–Ω—Ñ–æ...">
            <button class="btn" onclick="webSearch()">GOOGLE</button>
            <button class="btn" style="background:#4285F4; color:#fff; margin-top:10px;" onclick="openLens()">üì∑ GOOGLE LENS</button>
        </div>
    </div>
</div>

<script>
    let db = JSON.parse(localStorage.getItem('posts_db')) || [];
    let api = null;
    const audio = document.getElementById('main-audio');

    // --- AI LOGIC (–ò–º–∏—Ç–∞—Ü–∏—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è Gemini) ---
    function aiAsk() {
        const q = document.getElementById('ai-q');
        const log = document.getElementById('ai-log');
        if(!q.value) return;

        log.innerHTML += `<div style="color:#fff; margin-top:10px;">> ${q.value}</div>`;
        const userQ = q.value.toLowerCase();
        q.value = '';
        
        setTimeout(() => {
            let resp = "–ó–∞–ø—Ä–æ—Å –æ–±—Ä–∞–±–æ—Ç–∞–Ω. –Ø –∏–∑—É—á–∞—é —Ç–≤–æ–π GLOBAL OS. –ß–µ–º –µ—â–µ –º–æ–≥—É –ø–æ–º–æ—á—å?";
            if(userQ.includes("–ø—Ä–∏–≤–µ—Ç")) resp = "–ü—Ä–∏–≤–µ—Ç! –Ø Gemini, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π AI —Ç–≤–æ–µ–π —Å–∏—Å—Ç–µ–º—ã.";
            if(userQ.includes("–∫—Ç–æ —Ç—ã")) resp = "–Ø ‚Äî —Ç–≤–æ–π AI –ø–æ–º–æ—â–Ω–∏–∫, —á–∞—Å—Ç—å AND GLOBAL OS.";
            if(userQ.includes("–ø–æ–≥–æ–¥–∞")) resp = "–¢–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É —Ç–≤–æ–µ–≥–æ —ç–∫—Ä–∞–Ω–∞.";
            if(userQ.includes("–≤—Ä–µ–º—è")) resp = "–°–µ–π—á–∞—Å " + new Date().toLocaleTimeString();
            
            log.innerHTML += `<div style="margin-top:5px; border-left: 2px solid var(--ai-color); padding-left:10px;">[Gemini]: ${resp}</div>`;
            log.scrollTop = log.scrollHeight;
        }, 600);
    }

    // --- –§–£–ù–ö–¶–ò–ò –°–ò–°–¢–ï–ú–´ ---
    function show(id, btn) {
        document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
        document.getElementById('p-' + id).classList.remove('hidden');
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
    }

    function add() {
        let t = document.getElementById('txt'); if(!t.value) return;
        db.unshift({t: t.value, d: new Date().toLocaleTimeString()});
        t.value = ''; localStorage.setItem('posts_db', JSON.stringify(db)); draw();
    }
    function draw() {
        document.getElementById('wall').innerHTML = db.map(x => `<div class="box" style="padding:10px;"><b>${x.d}</b><br>${x.t}</div>`).join('');
    }

    function waPlay() {
        const u = document.getElementById('wa-url').value;
        if(u) { audio.src = u; audio.play(); document.getElementById('wa-title').innerText = "PLAYING..."; }
    }

    function startCall() {
        let r = document.getElementById('room-id').value || 'GlobalRoom';
        const cont = document.getElementById('video-container'); cont.innerHTML = "";
        api = new JitsiMeetExternalAPI("meet.jit.si", { roomName: r, parentNode: cont, width: '100%', height: 350 });
    }

    function openLens() { window.open('https://www.google.com/searchbyimage?sbisrc=4pts', '_blank'); }
    function webSearch() { window.open(`https://google.com/search?q=${document.getElementById('global-q').value}`, '_blank'); }

    window.onload = () => {
        fetch('https://wttr.in/?format=%c+%t').then(r => r.text()).then(t => document.getElementById('weather-info').innerText = t);
        draw();
    }
</script>
</body>
</html>
