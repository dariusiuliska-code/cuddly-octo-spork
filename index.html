<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AND | GLOBAL MEDIA OS</title>
    <script src="https://meet.jit.si/external_api.js"></script>
    <style>
        :root { --main: #00ff88; --bg: #000; --card: #1a1a1a; --text: #eee; --accent: #4285F4; }
        body { margin: 0; background: var(--bg); color: var(--text); font-family: sans-serif; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
        
        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å–≤–µ—Ä—Ö—É */
        .nav { display: flex; background: #111; border-bottom: 1px solid #333; position: sticky; top: 0; z-index: 10; overflow-x: auto; }
        .nav-btn { flex: 1; padding: 15px; text-align: center; font-size: 10px; font-weight: bold; cursor: pointer; color: #777; white-space: nowrap; transition: 0.3s; }
        .nav-btn.active { color: var(--main); border-bottom: 2px solid var(--main); }

        .container { flex: 1; overflow-y: auto; padding: 15px; }
        .box { background: var(--card); padding: 15px; border-radius: 12px; margin-bottom: 15px; border: 1px solid #333; }
        
        input, textarea { width: 100%; padding: 12px; background: #000; border: 1px solid #444; color: #fff; border-radius: 8px; box-sizing: border-box; margin-bottom: 10px; outline: none; }
        .btn { background: var(--main); color: #000; border: none; padding: 12px; width: 100%; border-radius: 8px; font-weight: bold; cursor: pointer; }
        
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px; }
        .s-btn { padding: 12px; border-radius: 8px; background: #222; color: #fff; font-size: 11px; text-align: center; cursor: pointer; border: 1px solid #444; text-decoration: none; }
        .s-btn:hover { border-color: var(--main); }
        
        .hidden { display: none; }
        iframe { border-radius: 12px; border: none; width: 100%; height: 350px; background: #000; }
        .movie-card { border-left: 3px solid red; padding-left: 10px; }
    </style>
</head>
<body>

<div class="nav">
    <div class="nav-btn active" id="b-feed" onclick="show('feed')">–õ–ï–ù–¢–ê</div>
    <div class="nav-btn" id="b-movie" onclick="show('movie')">–ö–ò–ù–û üçø</div>
    <div class="nav-btn" id="b-music" onclick="show('music')">–ú–£–ó–´–ö–ê</div>
    <div class="nav-btn" id="b-chat" onclick="show('chat')">–ß–ê–¢</div>
</div>

<div class="container">
    <div id="p-feed">
        <div class="box">
            <input type="text" id="find" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ—Å—Ç–æ–≤ –∏–ª–∏ —Ç–æ–≤–∞—Ä–æ–≤..." oninput="draw()">
            <textarea id="txt" placeholder="–ù–∞–ø–∏—Å–∞—Ç—å —á—Ç–æ-–Ω–∏–±—É–¥—å..." rows="2"></textarea>
            <button class="btn" onclick="add()">–û–ü–£–ë–õ–ò–ö–û–í–ê–¢–¨</button>
        </div>
        <div id="wall"></div>
    </div>

    <div id="p-movie" class="hidden">
        <div class="box">
            <h3 style="color:red; margin-top:0;">AND CINEMA üé¨</h3>
            <input type="text" id="m-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞...">
            <div class="grid">
                <div class="s-btn" onclick="searchMedia('movie', 'google')">üîé –ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–∞</div>
                <div class="s-btn" onclick="searchMedia('movie', 'hdvb')">üé• –°–º–æ—Ç—Ä–µ—Ç—å –æ–Ω–ª–∞–π–Ω</div>
                <div class="s-btn" onclick="searchMedia('movie', 'imdb')">‚≠ê –†–µ–π—Ç–∏–Ω–≥ IMDb</div>
                <div class="s-btn" onclick="searchMedia('movie', 'trailers')">üçø –¢—Ä–µ–π–ª–µ—Ä—ã</div>
            </div>
        </div>
        <div class="box movie-card">
            <p style="font-size: 12px;">–ü–æ–ø—É–ª—è—Ä–Ω–æ —Å–µ–π—á–∞—Å: <b>–ò–Ω—Ç–µ—Ä—Å—Ç–µ–ª–ª–∞—Ä, –ß–µ–ª–æ–≤–µ–∫-–ø–∞—É–∫, –ì–ª–∞–¥–∏–∞—Ç–æ—Ä 2</b></p>
        </div>
    </div>

    <div id="p-music" class="hidden">
        <div class="box">
            <h3 style="color:var(--main); margin-top:0;">–ú–£–ó–´–ö–ê–õ–¨–ù–´–ô –•–ê–ë</h3>
            <input type="text" id="ms-input" placeholder="–ü–µ—Å–Ω—è –∏–ª–∏ –∞—Ä—Ç–∏—Å—Ç...">
            <div class="grid">
                <div class="s-btn" onclick="searchMedia('music', 'google')">üåç –í –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ</div>
                <div class="s-btn" onclick="searchMedia('music', 'soundcloud')">‚òÅÔ∏è SoundCloud</div>
                <div class="s-btn" onclick="searchMedia('music', 'archive')">üìÇ –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –±–∞–∑–∞</div>
            </div>
        </div>
        <iframe src="https://www.youtube.com/embed/XcaQech-LEU"></iframe>
    </div>

    <div id="p-chat" class="hidden">
        <div class="box">
            <input type="text" id="chat-room" placeholder="–ò–º—è –∫–æ–º–Ω–∞—Ç—ã">
            <button class="btn" onclick="startJ()">–û–¢–ö–†–´–¢–¨ –ß–ê–¢/–í–ò–î–ï–û</button>
            <div id="j-frame" style="margin-top:10px;"></div>
        </div>
    </div>
</div>

<script>
    let db = JSON.parse(localStorage.getItem('posts_db')) || [];
    let jApi = null;

    function add() {
        let i = document.getElementById('txt'); if(!i.value.trim()) return;
        db.unshift({t: i.value, d: new Date().toLocaleTimeString()});
        i.value = ''; localStorage.setItem('posts_db', JSON.stringify(db)); draw();
    }

    function draw() {
        let q = document.getElementById('find').value.toLowerCase();
        document.getElementById('wall').innerHTML = db.filter(x => x.t.toLowerCase().includes(q))
            .map(x => `<div class="box"><b>${x.d}</b><br>${x.t}</div>`).join('');
    }

    // –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–´–ô –ü–û–ò–°–ö (–ö–ò–ù–û –ò –ú–£–ó–´–ö–ê)
    function searchMedia(type, source) {
        let q = type === 'movie' ? document.getElementById('m-input').value : document.getElementById('ms-input').value;
        if(!q) { alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ!'); return; }
        
        let url = '';
        if(type === 'movie') {
            if(source === 'google') url = `https://www.google.com/search?q=—Ñ–∏–ª—å–º+${encodeURIComponent(q)}`;
            if(source === 'hdvb') url = `https://www.google.com/search?q=—Å–º–æ—Ç—Ä–µ—Ç—å+–æ–Ω–ª–∞–π–Ω+–±–µ—Å–ø–ª–∞—Ç–Ω–æ+${encodeURIComponent(q)}`;
            if(source === 'imdb') url = `https://www.imdb.com/find?q=${encodeURIComponent(q)}`;
            if(source === 'trailers') url = `https://www.youtube.com/results?search_query=—Ç—Ä–µ–π–ª–µ—Ä+${encodeURIComponent(q)}`;
        } else {
            if(source === 'google') url = `https://www.google.com/search?q=—Å–ª—É—à–∞—Ç—å+–º—É–∑—ã–∫—É+${encodeURIComponent(q)}`;
            if(source === 'soundcloud') url = `https://soundcloud.com/search?q=${encodeURIComponent(q)}`;
            if(source === 'archive') url = `https://archive.org/details/audio?query=${encodeURIComponent(q)}`;
        }
        window.open(url, '_blank');
    }

    function show(id) {
        ['feed', 'movie', 'music', 'chat'].forEach(t => {
            document.getElementById('p-'+t).classList.toggle('hidden', t !== id);
            document.getElementById('b-'+t).classList.toggle('active', t === id);
        });
    }

    function startJ() {
        let r = document.getElementById('chat-room').value || 'AND-Room';
        if(jApi) jApi.dispose();
        jApi = new JitsiMeetExternalAPI("meet.jit.si", { roomName: r, parentNode: document.getElementById('j-frame'), width: '100%', height: 400 });
    }

    draw();
</script>
</body>
</html>
