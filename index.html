<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VOX OS v61 | MEDIA PRO</title>
    <style>
        :root { 
            --main: #00ff41; --bg: #000; --win: rgba(10, 10, 10, 0.98); 
            --accent: #00bbff; --gen: #f0f; --viber: #7360f2; --yt: #ff0000; --sc: #ff5500;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: var(--bg); color: var(--main); font-family: 'Consolas', monospace; overflow: hidden; }

        body::after {
            content: " "; position: fixed; inset: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%);
            z-index: 10000; background-size: 100% 4px; pointer-events: none; opacity: 0.2;
        }

        #desktop { 
            display: grid; grid-template-columns: repeat(auto-fill, minmax(90px, 1fr)); 
            grid-template-rows: repeat(auto-fill, 110px);
            padding: 85px 20px 20px 20px; gap: 20px; width: 100%; height: 100%;
            background: radial-gradient(circle, #001f06 0%, #000 100%);
            position: absolute; inset: 0; z-index: 1; overflow-y: auto;
        }

        .icon { display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; transition: 0.2s; }
        .icon span { font-size: 42px; margin-bottom: 8px; filter: drop-shadow(0 0 10px var(--main)); }
        .icon label { font-size: 10px; text-transform: uppercase; color: #fff; text-align: center; font-weight: bold; letter-spacing: 1px; }

        .window { 
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: var(--win); border: 2px solid var(--main); 
            display: none; flex-direction: column; z-index: 2000; 
            width: 92%; max-width: 420px; border-radius: 20px; box-shadow: 0 0 100px #000;
        }

        .win-header { background: var(--main); color: #000; padding: 12px 20px; display: flex; justify-content: space-between; font-weight: bold; align-items: center; border-radius: 18px 18px 0 0; }
        .win-content { padding: 20px; text-align: center; max-height: 70vh; overflow-y: auto; }

        .btn { width: 100%; padding: 14px; background: var(--main); color: #000; border: none; font-weight: bold; cursor: pointer; text-transform: uppercase; margin-bottom: 10px; border-radius: 12px; font-family: inherit; font-size: 11px; display: flex; align-items: center; justify-content: center; gap: 8px; }
        .btn-voice { background: var(--accent); color: #fff; }
        .btn-yt { background: var(--yt); color: #fff; }
        .btn-sc { background: var(--sc); color: #fff; }
        
        input { width: 100%; padding: 14px; background: #000; border: 1px solid var(--main); color: var(--main); margin-bottom: 15px; text-align: center; font-size: 14px; border-radius: 12px; font-family: inherit; }

        #playlist, #log-container { text-align: left; background: #050505; border: 1px solid #222; margin-top: 10px; border-radius: 10px; max-height: 150px; overflow-y: auto; padding: 8px; font-size: 10px; }
        .track { padding: 8px; border-bottom: 1px solid #111; color: #777; cursor: pointer; }
        .track.active { color: var(--main); background: #001a05; }

        #vox-audio { width: 100%; margin-top: 10px; filter: invert(1) hue-rotate(90deg); }
        #status-bar { position: fixed; top: 0; width: 100%; padding: 12px 20px; font-size: 11px; z-index: 1000; background: rgba(0,0,0,0.9); display: flex; justify-content: space-between; border-bottom: 1px solid #1a1a1a; }
        #lock-screen { position: fixed; inset: 0; background: #000; z-index: 9999; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        
        .admin-only { display: none; }
    </style>
</head>
<body>

<div id="status-bar">
    <div id="user-role">LOCKED</div>
    <div id="live-clock">00:00:00</div>
    <div id="admin-stats" class="admin-only" style="color: var(--gen)">STREAMING READY</div>
</div>

<div id="lock-screen">
    <div style="margin-bottom: 15px; letter-spacing: 5px; color: var(--main); font-size: 18px;">VOX OS v61</div>
    <div id="attempts" style="font-size: 10px; color: red; margin-bottom: 10px;">–ü–û–ü–´–¢–û–ö: 3</div>
    <input type="tel" id="sys-pass" placeholder="PASSWORD" style="-webkit-text-security: disc;">
    <button class="btn" style="width: 200px;" onclick="unlockSystem()">SYSTEM ON</button>
</div>

<div id="desktop">
    <div class="icon" onclick="openApp('win-wa')"><span>üìª</span><label>Winamp</label></div>
    <div class="icon" onclick="openApp('win-viber')"><span>üíú</span><label>Viber</label></div>
    <div class="icon" onclick="openApp('win-meet')"><span>üìπ</span><label>Meet</label></div>
    <div class="icon" onclick="openApp('win-search')"><span>üîç</span><label>Search</label></div>
    <div class="icon admin-only" onclick="openApp('win-log')"><span>üìã</span><label style="color:var(--log)">Logs</label></div>
    <div class="icon admin-only" onclick="openApp('win-wipe')"><span>üíÄ</span><label style="color:red">Wipe</label></div>
</div>

<div id="win-wa" class="window">
    <div class="win-header"><span>WINAMP MEDIA PRO</span><span onclick="closeApp('win-wa')">√ó</span></div>
    <div class="win-content">
        <button class="btn btn-voice" onclick="voxVoice('wa-query', 'music')">üé§ –ì–û–í–û–†–ò–¢–ï: –ü–ï–°–ù–Ø / URL</button>
        <input id="wa-query" placeholder="–¢—Ä–µ–∫ –∏–ª–∏ —Å—Å—ã–ª–∫–∞...">
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <button class="btn btn-yt" onclick="searchMedia('yt')">üì∫ YOUTUBE</button>
            <button class="btn btn-sc" onclick="searchMedia('sc')">‚òÅÔ∏è S.CLOUD</button>
        </div>

        <button class="btn" onclick="document.getElementById('file-up').click()">üìÇ –õ–û–ö–ê–õ–¨–ù–´–ï –§–ê–ô–õ–´</button>
        <input type="file" id="file-up" accept="audio/*" multiple style="display:none" onchange="loadPlaylist(event)">
        
        <audio id="vox-audio" controls onended="nextTrack()"></audio>
        <div id="playlist"></div>
    </div>
</div>

<div id="win-log" class="window" style="border-color:var(--log)"><div class="win-header" style="background:var(--log)"><span>LOGS</span><span onclick="closeApp('win-log')">√ó</span></div><div class="win-content"><div id="log-container"></div></div></div>
<div id="win-viber" class="window"><div class="win-header"><span>VIBER</span><span onclick="closeApp('win-viber')">√ó</span></div><div class="win-content"><button class="btn btn-voice" style="background:var(--viber); color:#fff" onclick="voxVoice('vib-in','viber')">üé§ –ù–û–ú–ï–† –ì–û–õ–û–°–û–ú</button><input id="vib-in" placeholder="–ù–æ–º–µ—Ä"><button class="btn" style="background:var(--viber); color:#fff" onclick="run('viber')">–ß–ê–¢</button></div></div>
<div id="win-meet" class="window"><div class="win-header"><span>MEET</span><span onclick="closeApp('win-meet')">√ó</span></div><div class="win-content"><button class="btn btn-voice" onclick="voxVoice('mt-in','meet')">üé§ ID –ì–û–õ–û–°–û–ú</button><input id="mt-in" placeholder="ID"><button class="btn" onclick="run('meet')">–í–û–ô–¢–ò</button></div></div>
<div id="win-search" class="window"><div class="win-header"><span>SEARCH</span><span onclick="closeApp('win-search')">√ó</span></div><div class="win-content"><button class="btn btn-voice" onclick="voxVoice('s-in','search')">üé§ –ó–ê–ü–†–û–° –ì–û–õ–û–°–û–ú</button><input id="s-in" placeholder="–ü–æ–∏—Å–∫..."><button class="btn" onclick="run('search')">–ù–ê–ô–¢–ò</button></div></div>
<div id="win-wipe" class="window" style="border-color:red"><div class="win-header" style="background:red; color:#fff"><span>WIPE</span><span onclick="closeApp('win-wipe')">√ó</span></div><div class="win-content"><h1 id="tmr" style="color:red; font-size: 50px;">5</h1><button class="btn" style="background:red; color:#fff" onclick="startWipe()">ACTIVATE WIPE</button></div></div>

<script>
    let activeWin = null, isAdmin = false, playlist = [], curIdx = 0, failCount = 3;

    setInterval(() => { document.getElementById('live-clock').innerText = new Date().toLocaleTimeString(); }, 1000);

    function addLog(msg) {
        const c = document.getElementById('log-container');
        if(c) {
            const e = document.createElement('div');
            e.innerHTML = `<span style="color:var(--accent)">[${new Date().toLocaleTimeString()}]</span> ${msg}`;
            c.prepend(e);
        }
    }

    function unlockSystem() {
        const p = document.getElementById('sys-pass').value;
        if(p === "777" || p === "111") {
            isAdmin = (p === "777");
            if(isAdmin) document.querySelectorAll('.admin-only').forEach(e => e.style.display = 'flex');
            document.getElementById('lock-screen').style.display = 'none';
            addLog("System unlocked");
        } else {
            failCount--;
            document.getElementById('attempts').innerText = `–ü–û–ü–´–¢–û–ö: ${failCount}`;
            if(failCount <= 0) startWipe();
        }
    }

    function openApp(id) { if(activeWin) closeApp(activeWin); document.getElementById(id).style.display = 'flex'; activeWin = id; addLog("Open: " + id); }
    function closeApp(id) { document.getElementById(id).style.display = 'none'; activeWin = null; }

    // –ü–û–ò–°–ö YOUTUBE / SOUNDCLOUD
    function searchMedia(type) {
        const q = document.getElementById('wa-query').value;
        if(!q) return alert("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–∞");
        let url = "";
        if(type === 'yt') url = `https://www.youtube.com/results?search_query=${q}`;
        if(type === 'sc') url = `https://soundcloud.com/search?q=${q}`;
        window.open(url, '_blank');
        addLog(`Searching ${type.toUpperCase()} for: ${q}`);
    }

    function voxVoice(inputId, type) {
        const Rec = window.SpeechRecognition || window.webkitSpeechRecognition;
        if(!Rec) return;
        const rec = new Rec(); rec.lang = 'ru-RU';
        const btn = event.currentTarget;
        btn.style.boxShadow = "0 0 15px var(--accent)";
        rec.onresult = (e) => {
            const res = e.results[0][0].transcript;
            document.getElementById(inputId).value = res;
            addLog("VOX INPUT: " + res);
            btn.style.boxShadow = "none";
            if(type === 'music' && res.includes('http')) {
                document.getElementById('vox-audio').src = res;
                document.getElementById('vox-audio').play();
            }
        };
        rec.onend = () => btn.style.boxShadow = "none";
        rec.start();
    }

    function loadPlaylist(e) {
        const files = Array.from(e.target.files);
        playlist = files.map(f => ({ name: f.name, url: URL.createObjectURL(f) }));
        document.getElementById('playlist').innerHTML = playlist.map((t, i) => `<div class="track" id="t-${i}" onclick="playTrack(${i})">${t.name}</div>`).join('');
    }

    function playTrack(i) {
        curIdx = i; const p = document.getElementById('vox-audio');
        p.src = playlist[i].url; p.play();
        document.querySelectorAll('.track').forEach(el => el.classList.remove('active'));
        document.getElementById(`t-${i}`).classList.add('active');
    }

    function nextTrack() { if(curIdx < playlist.length - 1) playTrack(curIdx + 1); }

    function run(t) {
        const v = (id) => document.getElementById(id).value;
        if(t === 'viber') window.open('viber://chat?number=' + v('vib-in'));
        if(t === 'meet') window.open('https://meet.jit.si/' + v('mt-in'));
        if(t === 'search') window.open('https://google.com/search?q=' + v('s-in'));
    }

    function startWipe() {
        document.getElementById('lock-screen').style.display = 'flex';
        document.getElementById('lock-screen').innerHTML = "<h1 style='color:red'>SECURITY BREACH! ERASING...</h1>";
        setTimeout(() => { 
            localStorage.clear(); 
            document.body.innerHTML = "<div style='background:#000; color:red; height:100vh; display:flex; align-items:center; justify-content:center; font-size:30px;'>SYSTEM ERASED</div>"; 
            setTimeout(()=>location.reload(), 2000);
        }, 3000);
    }
</script>
</body>
</html>
