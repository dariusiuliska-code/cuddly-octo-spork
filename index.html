<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AND | GLOBAL OS FINAL</title>
    <script src="https://meet.jit.si/external_api.js"></script>
    <style>
        :root { --main: #00ff88; --bg: #000; --card: rgba(25, 25, 25, 0.95); --text: #eee; --ai-color: #00d4ff; }
        body { margin: 0; background: var(--bg); color: var(--text); font-family: 'Segoe UI', sans-serif; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        
        /* –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å */
        .top-bar { display: flex; justify-content: space-between; align-items: center; padding: 10px 15px; background: #111; border-bottom: 1px solid #333; z-index: 1000; }
        .logo { font-weight: bold; color: var(--main); text-shadow: 0 0 10px var(--main); letter-spacing: 1px; font-size: 18px; }
        #weather-info { font-size: 12px; color: var(--main); }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .nav { display: flex; background: #000; border-bottom: 1px solid #333; overflow-x: auto; flex-shrink: 0; scrollbar-width: none; }
        .nav-btn { flex: 1; padding: 15px 10px; font-size: 10px; font-weight: bold; cursor: pointer; color: #555; text-transform: uppercase; text-align: center; border-bottom: 2px solid transparent; min-width: 90px; }
        .nav-btn.active { color: var(--main); border-bottom-color: var(--main); background: rgba(0, 255, 136, 0.05); }
        .nav-btn.ai-special { color: var(--ai-color); }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .container { flex: 1; overflow-y: auto; padding: 12px; }
        .box { background: var(--card); padding: 15px; border-radius: 12px; margin-bottom: 15px; border: 1px solid #333; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }
        
        input, textarea { width: 100%; padding: 12px; background: #000; border: 1px solid #444; color: #fff; border-radius: 8px; box-sizing: border-box; margin-bottom: 10px; outline: none; font-size: 16px; }
        .btn { background: var(--main); color: #000; border: none; padding: 14px; width: 100%; border-radius: 8px; font-weight: bold; cursor: pointer; margin-bottom: 8px; transition: 0.2s; }
        .btn:active { transform: scale(0.98); }

        /* AI TERMINAL */
        .ai-terminal { background: #000a10; border: 1px solid var(--ai-color); color: var(--ai-color); font-family: monospace; height: 320px; display: flex; flex-direction: column; }
        #ai-log { flex: 1; overflow-y: auto; padding: 12px; font-size: 13px; line-height: 1.5; }
        .ai-input { border-color: var(--ai-color) !important; margin-top: 5px; }

        /* WINAMP */
        .winamp { background: #222; border: 2px solid #555; padding: 10px; border-radius: 4px; }
        .wa-display { background: #000; padding: 10px; color: #00ff00; font-family: monospace; font-size: 11px; border: 1px solid #444; margin-bottom: 10px; text-align: center; }

        .hidden { display: none !important; }
        .post { border-bottom: 1px solid #333; padding: 12px 0; animation: fadeIn 0.3s ease; }
        .post b { color: var(--main); font-size: 11px; display: block; margin-bottom: 4px; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="top-bar">
    <div class="logo">AND GLOBAL OS</div>
    <div id="weather-info">üå§...</div>
</div>

<div class="nav">
    <div class="nav-btn active" onclick="show('chat', this)">MESSENGER üí¨</div>
    <div class="nav-btn ai-special" onclick="show('ai', this)">GEMINI AI ü§ñ</div>
    <div class="nav-btn" onclick="show('search', this)">–ü–û–ò–°–ö üîç</div>
    <div class="nav-btn" onclick="show('media', this)">MEDIA üé¨</div>
</div>

<div class="container">
    <div id="p-chat" class="page">
        <div class="box">
            <textarea id="msg-input" placeholder="–ß—Ç–æ —É –≤–∞—Å –Ω–æ–≤–æ–≥–æ?..." rows="2"></textarea>
            <button class="btn" onclick="sendMsg()">–û–ü–£–ë–õ–ò–ö–û–í–ê–¢–¨</button>
        </div>
        <div id="chat-wall" class="box">
            <div style="text-align: center; color: #666;">–°–æ–æ–±—â–µ–Ω–∏–π –ø–æ–∫–∞ –Ω–µ—Ç</div>
        </div>
    </div>

    <div id="p-ai" class="page hidden">
        <div class="box ai-terminal">
            <div id="ai-log">>>> –Ø–¥—Ä–æ Gemini v3.0 –æ–Ω–ª–∞–π–Ω.<br>>>> –ì–æ—Ç–æ–≤ –∫ –∞–Ω–∞–ª–∏–∑—É –¥–∞–Ω–Ω—ã—Ö. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å...</div>
            <input type="text" id="ai-input" class="ai-input" placeholder="–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è AI..." onkeypress="if(event.key==='Enter') aiTalk()">
            <button class="btn" style="background:var(--ai-color); color: #000;" onclick="aiTalk()">–í–´–ü–û–õ–ù–ò–¢–¨</button>
        </div>
    </div>

    <div id="p-search" class="page hidden">
        <div class="box">
            <h3>–ì–õ–û–ë–ê–õ–¨–ù–´–ô –ü–û–ò–°–ö</h3>
            <input type="text" id="search-q" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è, –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ –∏–ª–∏ –ø–µ—Å–Ω–∏...">
            <button class="btn" onclick="doSearch('google')">GOOGLE (–û–ë–©–ò–ô)</button>
            <button class="btn" style="background:#ff0000; color:#fff" onclick="doSearch('youtube')">YOUTUBE (–í–ò–î–ï–û/–ú–£–ó–´–ö–ê)</button>
            <button class="btn" style="background:#f4c20d; color:#000" onclick="doSearch('kinopoisk')">–ö–ò–ù–û–ü–û–ò–°–ö (–§–ò–õ–¨–ú–´)</button>
            <button class="btn" style="background:#4285F4; color:#fff" onclick="window.open('https://www.google.com/searchbyimage?sbisrc=4pts', '_blank')">üì∑ GOOGLE LENS (–ü–û–ò–°–ö –ü–û –§–û–¢–û)</button>
        </div>
    </div>

    <div id="p-media" class="page hidden">
        <div class="box winamp">
            <div class="wa-display">
                <div id="wa-title">WINAMP 2.91 - DIGITAL PLAYER</div>
                <div id="wa-time">00:00</div>
            </div>
            <input type="text" id="wa-url" placeholder="–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ MP3 –∏–ª–∏ –†–∞–¥–∏–æ...">
            <div style="display: flex; gap: 5px;">
                <button class="btn" style="flex: 2;" onclick="waPlay()">PLAY</button>
                <button class="btn" style="flex: 1; background:#555; color:#fff" onclick="waStop()">STOP</button>
            </div>
            <audio id="main-audio" style="display:none"></audio>
        </div>
        <div class="box">
            <h3>–í–ò–î–ï–û–°–í–Ø–ó–¨</h3>
            <p style="font-size: 12px; color: #888;">–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–Ω–∞—Ç—É –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –¥—Ä—É–≥—É.</p>
            <input type="text" id="room-name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã...">
            <button class="btn" style="background:#333; color:var(--main)" onclick="startVideo()">–û–¢–ö–†–´–¢–¨ –ö–û–ù–§–ï–†–ï–ù–¶–ò–Æ üé•</button>
        </div>
    </div>
</div>

<script>
    let db = JSON.parse(localStorage.getItem('msgs')) || [];
    const audio = document.getElementById('main-audio');

    // –ù–∞–≤–∏–≥–∞—Ü–∏—è
    function show(id, btn) {
        document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
        document.getElementById('p-' + id).classList.remove('hidden');
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
    }

    // –ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä
    function sendMsg() {
        const inp = document.getElementById('msg-input');
        if(!inp.value.trim()) return;
        db.unshift({t: inp.value, d: new Date().toLocaleString()});
        inp.value = '';
        localStorage.setItem('msgs', JSON.stringify(db));
        drawChat();
    }
    function drawChat() {
        const wall = document.getElementById('chat-wall');
        wall.innerHTML = db.length ? db.map(m => `<div class="post"><b>${m.d}</b>${m.t}</div>`).join('') : '<div style="text-align: center; color: #666;">–°–æ–æ–±—â–µ–Ω–∏–π –Ω–µ—Ç</div>';
    }

    // AI Gemini
    function aiTalk() {
        const inp = document.getElementById('ai-input');
        const log = document.getElementById('ai-log');
        if(!inp.value.trim()) return;
        
        log.innerHTML += `<div style="color:#fff; margin-top: 10px;">> ${inp.value}</div>`;
        const q = inp.value.toLowerCase();
        inp.value = '';
        
        setTimeout(() => {
            let a = "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∏—Å–∫.";
            if(q.includes("–ø—Ä–∏–≤–µ—Ç")) a = "–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤–∞—Å. –Ø Gemini AI, –≤–∞—à –±–æ—Ä—Ç–æ–≤–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä.";
            if(q.includes("—Ñ–∏–ª—å–º") || q.includes("–∫–∏–Ω–æ")) a = "–†–µ–∫–æ–º–µ–Ω–¥—É—é –∑–∞–≥–ª—è–Ω—É—Ç—å –≤–æ –≤–∫–ª–∞–¥–∫—É –ü–û–ò–°–ö -> –ö–∏–Ω–æ–ø–æ–∏—Å–∫.";
            if(q.includes("–º—É–∑—ã–∫–∞")) a = "–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –º—É–∑—ã–∫—É –Ω–∞ YouTube –∏–ª–∏ –≤—Å—Ç–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –≤ MEDIA –ø–ª–µ–µ—Ä.";
            if(q.includes("–∫—Ç–æ —Ç—ã")) a = "–Ø ‚Äî –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –æ–±–æ–ª–æ—á–∫–∞ AND GLOBAL OS.";
            
            log.innerHTML += `<div style="color:var(--ai-color); padding-left: 10px; border-left: 2px solid var(--ai-color); margin-top: 5px;">[Gemini]: ${a}</div>`;
            log.scrollTop = log.scrollHeight;
        }, 600);
    }

    // –ü–æ–∏—Å–∫
    function doSearch(type) {
        const q = encodeURIComponent(document.getElementById('search-q').value);
        if(!q) return alert("–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å!");
        if(type === 'google') window.open('https://google.com/search?q=' + q);
        if(type === 'youtube') window.open('https://youtube.com/results?search_query=' + q);
        if(type === 'kinopoisk') window.open('https://www.kinopoisk.ru/index.php?kp_query=' + q);
    }

    // Winamp
    function waPlay() {
        const u = document.getElementById('wa-url').value;
        if(u) { audio.src = u; audio.play(); document.getElementById('wa-title').innerText = "PLAYING: " + u.substring(0,20) + "..."; }
    }
    function waStop() { audio.pause(); document.getElementById('wa-title').innerText = "STOPPED"; }
    
    // –í–∏–¥–µ–æ
    function startVideo() {
        let r = document.getElementById('room-name').value || 'GlobalRoomAND';
        window.open('https://meet.jit.si/' + r, '_blank');
    }

    window.onload = () => {
        fetch('https://wttr.in/?format=%c+%t').then(r => r.text()).then(t => document.getElementById('weather-info').innerText = t).catch(() => document.getElementById('weather-info').innerText = "OFFLINE");
        drawChat();
    }
</script>
</body>
</html>
